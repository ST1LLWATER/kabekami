{"version":3,"sources":["../../src/routes/index.ts","../../src/utils/catchAsync.ts","../../src/controllers/wallpapers.controller.ts","../../src/routes/wallpapers.ts"],"sourcesContent":["import type {Router as ExpressRouter} from 'express';\r\n\r\nimport wallpapers from './wallpapers';\r\n\r\nexport interface Router {\r\n  router: ExpressRouter;\r\n  path?: string;\r\n}\r\n\r\nconst routers: Router[] = [\r\n  {\r\n    router: wallpapers,\r\n    path: '/api/wallpapers',\r\n  },\r\n];\r\n\r\nexport default routers;\r\n","import { NextFunction, Request, Response } from 'express';\r\n\r\nexport const catchAsync =\r\n  (fn: Function) => (req: Request, res: Response, next: NextFunction) => {\r\n    Promise.resolve(fn(req, res, next)).catch(next);\r\n  };\r\n","import {catchAsync} from '../utils/catchAsync';\r\nimport {Request, Response} from 'express';\r\nimport Joi from 'joi';\r\n\r\nexport const getWallpapers = catchAsync(async (req: Request, res: Response) => {\r\n  const {value, error} = Joi.object({\r\n    limit: Joi.number().required(),\r\n    offset: Joi.number().required(),\r\n  }).validate(req.query);\r\n\r\n  if (error) {\r\n    throw error;\r\n  }\r\n\r\n  const {limit, offset} = value;\r\n  // get wallpapers from database\r\n  res.json({limit, offset});\r\n});\r\n","import * as controller from '../controllers/wallpapers.controller';\r\nimport {Router} from 'express';\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/all', controller.getWallpapers);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACEO,IAAM,aACX,CAAC,OAAiB,CAAC,KAAc,KAAe,SAAuB;AACrE,UAAQ,QAAQ,GAAG,KAAK,KAAK,IAAI,CAAC,EAAE,MAAM,IAAI;AAChD;;;ACHF,iBAAgB;AAET,IAAM,gBAAgB,WAAW,OAAO,KAAc,QAAkB;AAC7E,QAAM,EAAC,OAAO,MAAK,IAAI,WAAAA,QAAI,OAAO;AAAA,IAChC,OAAO,WAAAA,QAAI,OAAO,EAAE,SAAS;AAAA,IAC7B,QAAQ,WAAAA,QAAI,OAAO,EAAE,SAAS;AAAA,EAChC,CAAC,EAAE,SAAS,IAAI,KAAK;AAErB,MAAI,OAAO;AACT,UAAM;AAAA,EACR;AAEA,QAAM,EAAC,OAAO,OAAM,IAAI;AAExB,MAAI,KAAK,EAAC,OAAO,OAAM,CAAC;AAC1B,CAAC;;;AChBD,qBAAqB;AAErB,IAAM,aAAS,uBAAO;AAEtB,OAAO,IAAI,QAAmB,aAAa;AAE3C,IAAO,qBAAQ;;;AHEf,IAAM,UAAoB;AAAA,EACxB;AAAA,IACE,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAEA,IAAO,iBAAQ;","names":["Joi"]}